{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.search = exports.getData = void 0;\n\n/**\r\n * Obtiene datos de un archivo JSON\r\n * @param {string} url la ruta del archivo JSON\r\n * @returns promise\r\n */\nvar getData = function getData(url) {\n  var response = fetch(url).then(function (response) {\n    return response.json();\n  });\n  return response;\n};\n/**\r\n * \r\n * @param {string} query criterio de búsqueda\r\n * @param {array} data data a procesar\r\n * @returns array\r\n */\n\n\nexports.getData = getData;\n\nvar search = function search(query, data) {\n  var expression = new RegExp(\"\".concat(query), 'i');\n  var queryResponse = data.filter(function (result) {\n    return expression.test(result.name);\n  });\n  return queryResponse;\n};\n\nexports.search = search;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addAttributes = exports.createCustomElement = exports.select = void 0;\nvar id = document.getElementById.bind(document);\nvar q = document.querySelector.bind(document);\nvar all = document.querySelectorAll.bind(document);\n/**\r\n * \r\n * @param {string} elementSelector \r\n * @param {int} type \r\n * @returns DOM element\r\n */\n\nvar select = function select(elementSelector) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'id';\n  var domElement = '';\n\n  switch (type) {\n    case 'q':\n      domElement = q(elementSelector);\n      break;\n\n    case 'all':\n      domElement = all(elementSelector);\n      break;\n\n    default:\n      domElement = id(elementSelector);\n      break;\n  }\n\n  return domElement;\n};\n/**\r\n * Crea elementos con atributos e hijos\r\n * @param {DOM element} element \r\n * @param {string} attributes \r\n * @param {string} children \r\n * @returns DOM Element\r\n */\n\n\nexports.select = select;\n\nvar createCustomElement = function createCustomElement(element, attributes, children) {\n  var customElement = document.createElement(element);\n  if (children !== undefined) children.forEach(function (el) {\n    if (el.nodeType) {\n      if (el.nodeType === 1 || el.nodeType === 11) customElement.appendChild(el);\n    } else {\n      customElement.innerHTML += el;\n    }\n  });\n  addAttributes(customElement, attributes);\n  return customElement;\n};\n/**\r\n * Añade un objeto de atributos a un elemento\r\n * @param {DOM element} element \r\n * @param {object} attrObj \r\n */\n\n\nexports.createCustomElement = createCustomElement;\n\nvar addAttributes = function addAttributes(element, attrObj) {\n  for (var attr in attrObj) {\n    if (attrObj.hasOwnProperty(attr)) element.setAttribute(attr, attrObj[attr]);\n  }\n};\n\nexports.addAttributes = addAttributes;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _core = require(\"./modules/core\");\n\nvar _dom = require(\"./modules/dom\");\n\nvar customerList = (0, _dom.select)('customersList', 'id');\nvar searchInput = (0, _dom.select)('search', 'id');\nvar dataUrl = '../../dist/json/customers.json';\n(0, _core.getData)(dataUrl).then(function (result) {\n  var data = result.customers;\n  var limit;\n  searchInput.addEventListener('input', function () {\n    var query = searchInput.value;\n    var queryResponse = '';\n    query != '' ? queryResponse = (0, _core.search)(query, data) : null;\n    queryResponse.length < limit ? limit = queryResponse.length : limit = 5;\n\n    if (customerList.hasChildNodes()) {\n      while (customerList.childNodes.length >= 1) {\n        customerList.removeChild(customerList.firstChild);\n      }\n    }\n\n    if (queryResponse.length > 0) {\n      for (var i = 0; i <= limit; i++) {\n        var customer = queryResponse[i];\n        var content = (0, _dom.createCustomElement)('span', null, [\"<span class=\\\"text-secondary\\\">\".concat(customer.id, \" - </span> \").concat(customer.name)]);\n        var listItem = (0, _dom.createCustomElement)('a', {\n          href: \"./?q=\".concat(customer.id.toLowerCase()),\n          class: 'list-group-item d-flex list-group-item-action border-0'\n        }, [content]);\n        customerList.appendChild(listItem);\n      }\n    } else if (query != '') {\n      customerList.style.display = \"block\";\n    }\n\n    customerList.addEventListener('click', function (e) {\n      searchInput.value = e.target.innerText;\n    });\n  });\n});\n\n},{\"./modules/core\":1,\"./modules/dom\":2}]},{},[3]);\n"],"file":"scripts.js"}